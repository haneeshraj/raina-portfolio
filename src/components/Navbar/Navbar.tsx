"use client";

import React, { useState } from "react";
import { AnimatePresence, motion } from "framer-motion";

import Link from "next/link";
import styles from "./styles.module.scss";
import clsx from "clsx";

const Navbar = () => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <>
      <div className={styles["navbar"]}>
        <div className={styles["navbar__logo"]}>
          <svg
            width="84"
            height="52"
            viewBox="0 0 84 52"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className={styles["navbar__logo-svg"]}
          >
            <motion.path
              animate={{ fill: isOpen ? "white" : "black" }}
              d="M0.664548 6.55484C0.589936 6.64436 0.552814 6.76828 0.555036 6.89235C0.557625 7.01682 0.599361 7.13128 0.677375 7.21751C0.75539 7.30373 0.865107 7.35668 0.988704 7.37168C1.11193 7.38627 1.23893 7.36169 1.33545 7.29639C2.51349 6.50091 3.77032 5.86601 5.04705 5.44824C7.84863 4.50548 10.6682 4.76435 12.7158 5.92334C15.4373 7.43481 16.5799 10.4054 16.4741 13.207C16.4693 13.3817 16.4628 13.5589 16.4537 13.7395C16.8177 16.504 13.0094 21.0976 8.04521 22.1205C7.2662 22.2954 6.47704 22.4345 5.69861 22.5266C5.30024 22.5734 4.92081 22.6067 4.54402 22.6211C4.36802 22.6277 4.17533 22.6294 4.02575 22.622C3.94428 22.6181 3.88583 22.6122 3.85162 22.6065C3.84588 22.6065 3.82553 22.5973 3.9039 22.6203C3.94281 22.6335 4.00478 22.6533 4.10906 22.7153C4.1403 22.7339 4.31551 22.8401 4.45526 23.0362C4.60455 23.2289 4.72639 23.5925 4.68228 23.9069C4.65409 24.1541 4.55566 24.3413 4.4773 24.453C4.41401 24.5432 4.35638 24.6007 4.31031 24.6421C4.22386 24.7171 4.19062 24.7324 4.16298 24.7492C4.12001 24.7726 4.12558 24.7673 4.14285 24.7624C4.17871 24.7508 4.26391 24.7302 4.3509 24.7163C4.53139 24.6868 4.74777 24.6716 4.96812 24.6714C5.40934 24.671 5.87327 24.7262 6.32956 24.8267C7.24361 25.0281 8.12562 25.4098 8.92663 25.9314C9.74125 26.4608 10.3297 27.2934 10.7346 28.1993C11.2708 29.3994 11.4192 30.6374 11.5869 31.7513C11.7577 32.8701 11.6986 34.0034 11.5802 35.1548C11.5246 35.9329 11.5165 36.7056 11.5725 37.4767C11.7133 39.4012 12.6729 41.2285 13.548 42.9861C15.0336 46.0639 17.5511 48.7308 20.4757 50.0849C21.1398 50.4042 21.8144 50.6657 22.4934 50.8836C23.2735 51.1348 24.063 51.305 24.8237 51.4642C24.9346 51.4875 25.0599 51.4623 25.1679 51.4049C25.2761 51.3468 25.3581 51.2612 25.4001 51.1563C25.442 51.0514 25.4417 50.9328 25.4034 50.8161C25.3648 50.7 25.2914 50.5954 25.1951 50.5358C24.5343 50.1292 23.8967 49.7087 23.2954 49.2711C22.7717 48.8909 22.283 48.4894 21.8333 48.0613C19.8507 46.1967 18.7877 43.834 18.4821 41.3498C18.2953 39.898 18.6935 38.4113 18.5875 36.9666C18.5448 36.3796 18.4901 35.7795 18.4343 35.1548C18.3175 33.3698 17.8444 31.5591 17.0714 29.895C16.2957 28.2079 14.9552 26.8302 13.5725 25.7831C12.525 24.9831 11.448 24.3172 10.3734 23.6489C9.3071 22.9863 8.12296 22.4968 6.87049 22.2441C6.24261 22.1182 5.60288 22.0496 4.93977 22.0601C4.60513 22.0664 4.26859 22.0909 3.90432 22.1555C3.72408 22.1884 3.52985 22.231 3.30908 22.3062C3.19344 22.3465 3.06637 22.395 2.91024 22.4809C2.8156 22.5351 2.73077 22.5836 2.58999 22.7061C2.51586 22.7724 2.43547 22.8548 2.35489 22.9698C2.25454 23.1128 2.14221 23.3329 2.11054 23.6114C2.06361 23.9503 2.19211 24.3371 2.35722 24.5517C2.50963 24.7678 2.72357 24.9027 2.76855 24.9287C2.90714 25.0114 3.01356 25.0505 3.10664 25.0812C3.31942 25.145 3.35713 25.1437 3.46346 25.1621C3.67268 25.1913 3.76964 25.1944 3.92067 25.2012C4.18025 25.2104 4.43018 25.204 4.65307 25.1936C5.12486 25.1709 5.55685 25.1282 6.00801 25.0725C6.88572 24.9623 7.74916 24.8062 8.60572 24.6141C11.2662 23.9979 14.0156 23.5354 16.8028 22.2346C19.5196 21.0355 22.5553 18.1832 22.936 14.348C22.974 14.0263 22.9976 13.7051 23.0063 13.3856C23.2642 8.06728 19.4367 2.83914 14.4941 1.43025C10.6619 0.216934 6.70475 1.4085 3.98489 3.42154C2.71333 4.3397 1.62575 5.41512 0.664548 6.55484Z"
            />
            <motion.path
              d="M24.9776 8.11846C24.8572 8.1031 24.7303 8.13885 24.6265 8.21148C24.5225 8.28447 24.45 8.38838 24.4235 8.50671C24.397 8.62503 24.4182 8.74994 24.4811 8.86031C24.5441 8.97032 24.6435 9.05677 24.759 9.09427C25.7233 9.40228 26.6283 9.67731 27.6074 9.94379C31.8061 11.1054 36.2393 11.8148 40.6609 12.0309C45.1212 12.2631 49.6088 12.3312 53.8699 11.8869C58.9173 11.3515 63.7814 10.034 68.8507 10.0105C68.9325 10.0099 69.0144 10.0115 69.0962 10.0139C72.6653 10.1209 76.226 10.5892 79.7664 11.3688C80.7306 11.5825 81.6309 11.7983 82.5963 12.0553C82.7166 12.0871 82.8486 12.0683 82.9617 12.0076C83.0748 11.9466 83.1598 11.8487 83.1995 11.7309C83.2392 11.6131 83.2307 11.4837 83.1775 11.3666C83.1241 11.2499 83.0304 11.1551 82.9154 11.1076C81.9778 10.7247 81.1008 10.3818 80.1525 10.0393C76.6742 8.77811 73.0792 7.80668 69.3726 7.20201C69.2876 7.18807 69.2028 7.17368 69.1183 7.15743C63.9334 6.13965 58.4403 5.44481 53.2594 5.99898C48.891 6.4557 44.7539 7.60679 40.5375 8.1011C36.3717 8.60298 32.1183 8.75845 27.8759 8.41932C26.8892 8.33884 25.9663 8.24721 24.9776 8.11846Z"
              animate={{ fill: isOpen ? "white" : "black" }}
            />
            <motion.path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M35.3813 21.9495C35.3813 21.9495 35.067 19.3364 33.7856 18.6457C33.0581 18.2535 32.5061 18.1756 31.6935 18.3266C30.4204 18.5631 29.4511 19.9614 29.2532 20.2058C28.0602 21.679 27.7826 23.0857 27.2737 24.9119C26.8057 26.5913 26.4706 28.4315 26.7063 29.1788C26.9977 30.103 27.2553 30.7813 28.2083 31.2328C30.705 32.4156 32.9493 28.7516 32.9493 28.7516C32.9493 28.7516 33.3368 30.0963 34.0376 30.5435C34.8547 31.0649 35.6622 30.7857 36.3461 30.5435C37.03 30.3014 37.5462 29.4869 38.2386 28.6094C39.307 27.2553 40.5582 25.0283 40.5582 25.0283C40.5582 25.0283 40.8167 28.7769 42.5439 29.0353C43.4623 29.1727 43.9457 29.0952 44.4659 28.3261C48.4329 22.4609 48.4591 21.3267 49.4451 21.7796C50.431 22.2326 49.1296 28.5034 50.4308 28.8362C50.4308 28.8362 50.5295 29.0113 51.1629 29.0113C51.7963 29.0113 54.1061 23.7308 54.1061 23.7308C54.1061 23.7308 56.3001 19.7226 57.1887 20.9534C58.3589 22.574 57.4332 26.6092 58.3589 27.8651C58.8633 28.5494 59.6929 28.8362 60.4865 28.3261C61.9879 27.361 63.536 24.922 63.536 24.922C63.536 24.922 63.577 27.9771 65.407 28.5034C67.7202 29.1687 70.0522 25.4539 70.0522 25.4539C70.0522 25.4539 70.9618 28.3425 73.3898 28.3425C73.7195 28.3425 77.5117 28.6804 80.8997 26.0287C81.2383 25.7637 81.0238 25.4539 80.5939 25.4539C79.6312 25.4539 79.6191 25.6609 78.9248 25.8766C76.5633 26.6101 74.457 27.7852 72.5237 26.2434C71.3174 25.2813 72.7356 23.2859 71.924 21.9735C71.6472 21.5258 71.3016 22.0797 71.3016 21.5533C71.3016 20.3385 70.0577 19.0039 69.8123 18.8938C69.0668 18.5595 68.5115 18.6901 67.7202 18.8938C65.711 19.4112 65.0483 20.2954 63.9355 21.7796C63.1184 22.8695 62.2292 25.3708 59.9901 26.3403C58.5053 26.9832 59.2809 21.0231 58.8199 20.2768C58.3589 19.5304 57.6965 18.9458 56.7987 19.1066C55.5273 19.3342 55.15 20.0634 54.4938 20.7023C53.9388 21.2426 52.1279 24.6625 51.8249 25.3708C51.826 25.4247 51.8264 25.4539 51.8264 25.4539C51.7646 25.539 51.7697 25.5 51.8249 25.3708C51.8124 24.776 52.1508 21.2783 51.336 20.393C50.8532 19.8685 50.8501 19.8678 50.1514 19.7267C48.4677 19.3868 47.6178 20.6132 46.4074 21.9495C44.9933 23.5109 43.7899 27.7416 43.0492 26.9359C42.3085 26.1302 42.7704 19.785 42.7704 19.5851C42.6905 19.3546 42.4664 19.1013 42.2019 19.1054C41.9753 19.0267 41.5565 19.1825 41.4365 19.3903C40.1539 21.6107 39.3616 23.639 39.3616 23.639C39.3616 23.639 37.0838 28.8254 35.3813 29.2898C34.0139 29.6627 35.3813 21.9495 35.3813 21.9495ZM31.5554 20.2713C31.5554 20.2713 32.5141 19.7979 33.0494 20.2058C34.0943 21.002 33.4072 22.296 32.9493 24.1964C32.5605 25.8101 32.1353 26.9962 30.8952 28.7516C30.3423 29.5344 29.8239 30.107 29.0703 29.6627C28.1027 29.0924 28.4416 27.4706 28.6419 26.1984C28.8797 24.6884 29.415 23.6873 29.887 22.3688C30.6744 20.992 31.2664 20.3542 31.5554 20.2713ZM65.1671 23.3347C65.5646 22.0592 66.2991 21.1983 67.5905 20.856C68.944 20.4973 69.6962 22.0528 69.4275 22.9022C68.7992 24.8879 68.5675 24.8564 67.87 26.0287C67.3265 26.9421 66.7159 27.168 65.8407 26.9359C64.6399 26.6174 64.7976 24.5208 65.1671 23.3347Z"
              animate={{ fill: isOpen ? "white" : "black" }}
            />
            <motion.path
              d="M51.8249 25.3708C52.1279 24.6625 53.9388 21.2426 54.4938 20.7023C55.15 20.0634 55.5273 19.3342 56.7987 19.1066C57.6965 18.9458 58.3589 19.5304 58.8199 20.2768C59.2809 21.0231 58.5053 26.9832 59.9901 26.3403C62.2292 25.3708 63.1184 22.8695 63.9355 21.7796C65.0483 20.2954 65.711 19.4112 67.7202 18.8938C68.5115 18.6901 69.0668 18.5595 69.8123 18.8938C70.0577 19.0039 71.3016 20.3385 71.3016 21.5533C71.3016 22.0797 71.6472 21.5258 71.924 21.9735C72.7356 23.2859 71.3174 25.2813 72.5237 26.2434C74.457 27.7852 76.5633 26.6101 78.9248 25.8766C79.6191 25.6609 79.6312 25.4539 80.5939 25.4539C81.0238 25.4539 81.2383 25.7637 80.8997 26.0287C77.5117 28.6804 73.7195 28.3425 73.3898 28.3425C70.9618 28.3425 70.0522 25.4539 70.0522 25.4539C70.0522 25.4539 67.7202 29.1687 65.407 28.5034C63.577 27.9771 63.536 24.922 63.536 24.922C63.536 24.922 61.9879 27.361 60.4865 28.3261C59.6929 28.8362 58.8633 28.5494 58.3589 27.8651C57.4332 26.6092 58.3589 22.574 57.1887 20.9534C56.3001 19.7226 54.1061 23.7308 54.1061 23.7308C54.1061 23.7308 51.7963 29.0113 51.1629 29.0113C50.5295 29.0113 50.4308 28.8362 50.4308 28.8362C49.1296 28.5034 50.431 22.2326 49.4451 21.7796C48.4591 21.3267 48.4329 22.4609 44.4659 28.3261C43.9456 29.0952 43.4623 29.1727 42.5439 29.0353C40.8167 28.7769 40.5582 25.0283 40.5582 25.0283C40.5582 25.0283 39.307 27.2553 38.2386 28.6094C37.5462 29.4869 37.03 30.3014 36.3461 30.5435C35.6622 30.7857 34.8547 31.0649 34.0376 30.5435C33.3368 30.0963 32.9493 28.7516 32.9493 28.7516C32.9493 28.7516 30.705 32.4156 28.2083 31.2328C27.2553 30.7813 26.9977 30.103 26.7063 29.1788C26.4706 28.4315 26.8057 26.5913 27.2737 24.9119C27.7826 23.0857 28.0602 21.679 29.2532 20.2058C29.4511 19.9614 30.4204 18.5631 31.6935 18.3266C32.5061 18.1756 33.0581 18.2535 33.7856 18.6457C35.067 19.3364 35.3813 21.9495 35.3813 21.9495C35.3813 21.9495 34.0139 29.6627 35.3813 29.2898C37.0838 28.8254 39.3616 23.639 39.3616 23.639C39.3616 23.639 40.1539 21.6107 41.4365 19.3903C41.5565 19.1825 41.9753 19.0267 42.2019 19.1054C42.4664 19.1013 42.6905 19.3546 42.7704 19.5851C42.7704 19.785 42.3085 26.1302 43.0492 26.9359C43.7899 27.7416 44.9933 23.5109 46.4074 21.9495C47.6178 20.6132 48.4677 19.3868 50.1514 19.7267C50.8501 19.8678 50.8532 19.8685 51.336 20.393C52.1508 21.2783 51.8124 24.776 51.8249 25.3708ZM51.8249 25.3708C51.826 25.4247 51.8264 25.4539 51.8264 25.4539C51.7646 25.539 51.7697 25.5 51.8249 25.3708ZM33.0494 20.2058C32.5141 19.7979 31.5554 20.2713 31.5554 20.2713C31.2664 20.3542 30.6744 20.992 29.887 22.3688C29.415 23.6873 28.8797 24.6884 28.6419 26.1984C28.4416 27.4706 28.1027 29.0924 29.0703 29.6627C29.8239 30.107 30.3423 29.5344 30.8952 28.7516C32.1353 26.9962 32.5605 25.8101 32.9493 24.1964C33.4072 22.296 34.0943 21.002 33.0494 20.2058ZM67.5905 20.856C66.2991 21.1983 65.5646 22.0592 65.1671 23.3347C64.7976 24.5208 64.6399 26.6174 65.8407 26.9359C66.7159 27.168 67.3265 26.9421 67.87 26.0287C68.5675 24.8564 68.7992 24.8879 69.4275 22.9022C69.6962 22.0528 68.944 20.4973 67.5905 20.856Z"
              stroke="black"
              animate={{ stroke: isOpen ? "white" : "black" }}
            />
          </svg>
        </div>

        <div className={styles["hamburger"]} onClick={() => setIsOpen(!isOpen)}>
          <motion.div
            className={clsx(
              styles["hamburger__line"],
              styles["hamburger__line--1"]
            )}
            animate={{
              top: isOpen ? "50%" : "0",
              rotate: isOpen ? 45 : 0,
              translateY: isOpen ? "-50%" : "0",
              backgroundColor: isOpen ? "white" : "black", // Add this
            }}
          />

          <motion.div
            className={clsx(
              styles["hamburger__line"],
              styles["hamburger__line--2"]
            )}
            animate={{
              opacity: isOpen ? 0 : 1,
            }}
          />

          <motion.div
            className={clsx(
              styles["hamburger__line"],
              styles["hamburger__line--3"]
            )}
            animate={{
              bottom: isOpen ? "auto" : "0",
              top: isOpen ? "50%" : "auto",
              rotate: isOpen ? -45 : 0,
              translateY: isOpen ? "-50%" : "0",
              backgroundColor: isOpen ? "white" : "black", // Add this
            }}
          />
        </div>
      </div>
      <AnimatePresence>
        {isOpen && (
          <motion.div
            className={styles["navbar__menu"]}
            initial={{ clipPath: "polygon(0 0, 100% 0, 100% 0%, 0 0%)" }}
            animate={{ clipPath: "polygon(0 0, 100% 0, 100% 100%, 0 100%)" }}
            exit={{ clipPath: "polygon(0 0, 100% 0, 100% 0%, 0 0%)" }}
            transition={{ duration: 0.8, ease: [0.6, 0.02, 0, 0.96] }}
          >
            <ul className={styles["navbar__menu-list"]}>
              <motion.li
                className={styles["navbar__menu-item"]}
                initial={{ y: 20, opacity: 0 }}
                animate={{ y: 0, opacity: 1 }}
                transition={{
                  delay: 0.1,
                  duration: 0.4,
                  ease: [0.6, 0.02, 0, 0.96],
                }}
              >
                <Link
                  href="/"
                  onClick={() => setIsOpen(false)}
                  style={{
                    // Remove link default styles
                    color: "white",
                    textDecoration: "none",
                  }}
                >
                  Home
                </Link>
              </motion.li>
              <motion.li
                className={styles["navbar__menu-item"]}
                initial={{ y: 20, opacity: 0 }}
                animate={{ y: 0, opacity: 1 }}
                transition={{
                  delay: 0.2,
                  duration: 0.4,
                  ease: [0.6, 0.02, 0, 0.96],
                }}
              >
                <Link
                  href="/about"
                  onClick={() => setIsOpen(false)}
                  style={{
                    // Remove link default styles
                    color: "white",
                    textDecoration: "none",
                  }}
                >
                  About
                </Link>
              </motion.li>
              <motion.li
                className={styles["navbar__menu-item"]}
                initial={{ y: 20, opacity: 0 }}
                animate={{ y: 0, opacity: 1 }}
                transition={{
                  delay: 0.3,
                  duration: 0.4,
                  ease: [0.6, 0.02, 0, 0.96],
                }}
              >
                <Link
                  href="/work"
                  onClick={() => setIsOpen(false)}
                  style={{
                    // Remove link default styles
                    color: "white",
                    textDecoration: "none",
                  }}
                >
                  Work
                </Link>
              </motion.li>
              <motion.li
                className={styles["navbar__menu-item"]}
                initial={{ y: 20, opacity: 0 }}
                animate={{ y: 0, opacity: 1 }}
                transition={{
                  delay: 0.4,
                  duration: 0.4,
                  ease: [0.6, 0.02, 0, 0.96],
                }}
              >
                <Link
                  href="/contact"
                  onClick={() => setIsOpen(false)}
                  style={{
                    // Remove link default styles
                    color: "white",
                    textDecoration: "none",
                  }}
                >
                  Contact
                </Link>
              </motion.li>
            </ul>
          </motion.div>
        )}
      </AnimatePresence>
    </>
  );
};

export default Navbar;
